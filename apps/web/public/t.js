!function(){"use strict";function e(){return"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}let t=!1;function n(e){t=e}const o="_tk_sid",r="_tk_ts";function a(){try{const t=sessionStorage.getItem(o),n=sessionStorage.getItem(r),a=Date.now();if(t&&n&&a-parseInt(n,10)<18e5)return sessionStorage.setItem(r,a.toString()),t;const i=e();return sessionStorage.setItem(o,i),sessionStorage.setItem(r,a.toString()),i}catch{return e()}}const i="_tk_utm",c=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"];const s={ttfb_ms:null,fcp_ms:null,lcp_ms:null,cls:null,inp_ms:null,fid_ms:null};let l=0;function d(){return{...s}}let u=0;function m(){return u}let f=0,p=0,_=!0;function h(){return _&&p>0?f+(Date.now()-p):f}const g=/\.(pdf|zip|docx|xlsx|csv|mp4|mp3|rar|gz|tar|7z|exe|dmg|iso|avi|mov|wmv|flv|webm|ogg|wav|pptx)$/i,y=new Set(["password","hidden"]),w=/credit_card|card_number|cvv|ssn|password|secret|cc_number|card_exp|security_code/i,b=[{field:"lead_email",types:["email"],autocompletes:["email"],pattern:/e[-_]?mail|emailadres|e-mailadres/i},{field:"lead_phone",types:["tel"],autocompletes:["tel","tel-national","tel-local"],pattern:/phone|tel(?:efoon|efon)?|mobile|mobiel|gsm/i},{field:"first_name",autocompletes:["given-name"],pattern:/first[-_]?name|fname|voornaam|given[-_]?name|prénom/i},{field:"last_name",autocompletes:["family-name"],pattern:/last[-_]?name|lname|surname|achternaam|family[-_]?name/i},{field:"lead_name",autocompletes:["name"],pattern:/\b(name|full[-_]?name|your[-_]?name|customer[-_]?name|contact[-_]?name|naam|volledige[-_]?naam)\b/i},{field:"lead_company",autocompletes:["organization"],pattern:/company|organi[sz]ation|bedrijf|bedrijfsnaam/i},{field:"lead_message",pattern:/message|comment|bericht|opmerking|notes|beschrijving|description|vraag/i}];function v(e){const t=e instanceof HTMLInputElement?e.type:"",n=(e.getAttribute("autocomplete")||"").toLowerCase(),o=function(e){const t=[];if(e.name){t.push(e.name);const n=e.name.match(/\[([^\]]+)\]/g);n&&n.forEach(e=>t.push(e.replace(/[[\]]/g,"")))}e.id&&t.push(e.id);const n=e.getAttribute("data-name");n&&t.push(n),"placeholder"in e&&e.placeholder&&t.push(e.placeholder);const o=e.getAttribute("aria-label");o&&t.push(o);const r=e.getAttribute("autocomplete");if(r&&t.push(r),e.id)try{const n="undefined"!=typeof CSS&&CSS.escape?CSS.escape(e.id):e.id,o=document.querySelector(`label[for="${n}"]`);o&&t.push((o.textContent||"").trim())}catch{}try{const n=e.closest?.("label");n&&t.push((n.textContent||"").trim())}catch{}return t.filter(Boolean)}(e);for(const e of b){if(e.types?.includes(t))return e.field;if(e.autocompletes&&n&&e.autocompletes.includes(n))return e.field;if(o.some(t=>e.pattern.test(t)))return e.field}return"textarea"===e.tagName.toLowerCase()?"lead_message":null}function S(e){if(e.id)try{const t="undefined"!=typeof CSS&&CSS.escape?CSS.escape(e.id):e.id,n=document.querySelector(`label[for="${t}"]`);if(n){const e=(n.textContent||"").trim();if(e)return e}}catch{}try{const t=e.closest?.("label");if(t){const e=(t.textContent||"").trim();if(e)return e}}catch{}return e.getAttribute("aria-label")||("placeholder"in e&&e.placeholder?e.placeholder:e.getAttribute("data-name")||e.name||e.id||"unknown")}function k(e){const t={lead_name:null,lead_email:null,lead_phone:null,lead_company:null,lead_message:null,lead_data:null};let n="",o="";const r=e.elements;for(let e=0;e<r.length;e++){const a=r[e];if(a instanceof HTMLInputElement&&("hidden"===a.type||"checkbox"===a.type||"radio"===a.type))continue;if("submit"===a.type||"button"===a.type)continue;const i=(a.value||"").trim();if(!i)continue;const c=v(a);if(c)switch(c){case"lead_email":t.lead_email||(t.lead_email=i);break;case"lead_phone":t.lead_phone||(t.lead_phone=i);break;case"lead_name":t.lead_name||(t.lead_name=i);break;case"first_name":n||(n=i);break;case"last_name":o||(o=i);break;case"lead_company":t.lead_company||(t.lead_company=i);break;case"lead_message":t.lead_message||(t.lead_message=i)}}t.lead_name||!n&&!o||(t.lead_name=[n,o].filter(Boolean).join(" "));const a=function(e){const t={},n=/nonce|_wp_http_referer|__fluent_form|_token|csrf|honeypot/i,o=e.elements;for(let e=0;e<o.length;e++){const r=o[e];if(!r.name&&!r.id)continue;if("submit"===r.type||"button"===r.type)continue;if("password"===r.type)continue;if(w.test(r.name||""))continue;if(r.hasAttribute("data-no-track"))continue;if("hidden"===r.type&&n.test(r.name||""))continue;const a=S(r);if(r instanceof HTMLInputElement&&("checkbox"===r.type||"radio"===r.type)){if(!r.checked)continue;const e=r.value||"on";t[a]?t[a]+=`, ${e}`:t[a]=e;continue}const i=(r.value||"").trim();i&&("hidden"===r.type?t[r.name]=i.slice(0,500):t[a]=i.slice(0,500))}return t}(e);return Object.keys(a).length>0&&(t.lead_data=a),t}const x=new Set(["A","BUTTON","INPUT","SELECT","TEXTAREA","LABEL","DETAILS","SUMMARY"]),L=["ResizeObserver loop","ResizeObserver loop completed with undelivered notifications","Script error.","Script error","Non-Error promise rejection captured","cancelled","The operation was aborted","Load failed","Failed to fetch","NetworkError when attempting to fetch resource"];function E(e){return L.some(t=>e.includes(t))}function T(e,t){return{event_type:"ecommerce",event_name:e,ecommerce_action:e,order_id:t.order_id||null,revenue:t.total??t.revenue??null,currency:t.currency||"EUR",ecommerce_items:t.items||null,event_data:t}}let A=!1;function C(e,t=!1){A=t,function(e){if(!(document.body.classList.contains("woocommerce")||document.body.classList.contains("woocommerce-page")||window.wc_add_to_cart_params||window.wc_cart_fragments_params))return!1;document.addEventListener("submit",t=>{const n=t.target;if(!n||"FORM"!==n.tagName)return;if(!n.querySelector('button[name="add-to-cart"], input[name="add-to-cart"]'))return;const o=function(){try{const e=document.querySelectorAll('script[type="application/ld+json"]');for(const t of e){const e=JSON.parse(t.textContent||""),n="Product"===e["@type"]?e:Array.isArray(e["@graph"])?e["@graph"].find(e=>"Product"===e["@type"]):null;if(n){const e=n.offers?.price??n.offers?.[0]?.price??0;return{id:n.sku||n.productID||n["@id"]||"",name:n.name||"",price:parseFloat(e)||0,category:n.category||void 0}}}}catch{}return null}()||function(e){try{const t=e.querySelector('button[name="add-to-cart"], input[name="add-to-cart"]')?.value||e.getAttribute("data-product_id")||"",n=document.querySelector(".product_title, h1.entry-title")?.textContent?.trim()||"",o=document.querySelector(".product .price .woocommerce-Price-amount, .product .price ins .woocommerce-Price-amount, .summary .price .woocommerce-Price-amount");let r=0;if(o){const e=(o.textContent||"").replace(/[^\d.,]/g,"").replace(",",".");r=parseFloat(e)||0}if(t||n)return{id:t,name:n,price:r}}catch{}return null}(n);if(!o)return;const r=parseInt(n.querySelector('[name="quantity"]')?.value||"1",10)||1,a=T("add_to_cart",{currency:window.woocommerce_params?.currency||"EUR",items:[{id:o.id,name:o.name,price:o.price,quantity:r,category:o.category}]});e(a),o.name},!0);try{const t=window.jQuery||window.$;t&&(t(document.body).on("added_to_cart",(n,o,r,a)=>{const i=t(a),c=i.data("product_id")||i.val()||"",s=parseInt(i.data("quantity")||"1",10)||1,l=i.closest(".product, li"),d=l.find(".woocommerce-loop-product__title, .product-title, h2").first().text().trim()||"",u=(l.find(".price ins .woocommerce-Price-amount, .price .woocommerce-Price-amount").first().text()||"").replace(/[^\d.,]/g,"").replace(",","."),m=parseFloat(u)||0,f=T("add_to_cart",{currency:window.woocommerce_params?.currency||"EUR",items:[{id:String(c),name:d,price:m,quantity:s}]});e(f)}),t(document.body).on("removed_from_cart",(n,o,r,a)=>{const i=T("remove_from_cart",{items:[{id:"",name:t(a).closest(".cart_item, tr").find(".product-name a, td.product-name").first().text().trim()||"",price:0,quantity:1}]});e(i)}))}catch{}if(document.body.classList.contains("woocommerce-checkout")&&e(T("begin_checkout",{})),document.body.classList.contains("woocommerce-order-received")||window.location.pathname.includes("/order-received/")||window.location.pathname.includes("/bestelling-ontvangen/")||document.querySelector(".woocommerce-order-overview"))try{const t=document.querySelector(".woocommerce-order-overview__order strong, .order strong"),n=t?.textContent?.trim()||"",o=document.querySelector(".woocommerce-order-overview__total strong .woocommerce-Price-amount, .order-total .woocommerce-Price-amount"),r=(o?.textContent||"").replace(/[^\d.,]/g,"").replace(",","."),a=parseFloat(r)||0,i=[];document.querySelectorAll(".woocommerce-table--order-details .order_item, .woocommerce-table--order-details tbody tr").forEach(e=>{const t=e.querySelector(".product-name");if(!t)return;const n=(t.textContent||"").replace(/\s*×\s*\d+/,"").trim(),o=(t.textContent||"").match(/×\s*(\d+)/),r=o?parseInt(o[1],10):1,a=e.querySelector(".product-total .woocommerce-Price-amount"),c=(a?.textContent||"").replace(/[^\d.,]/g,"").replace(",","."),s=parseFloat(c)||0;i.push({id:"",name:n,price:r>0?s/r:s,quantity:r})});const c=T("purchase",{order_id:n,total:a,revenue:a,currency:window.woocommerce_params?.currency||"EUR",items:i.length>0?i:void 0});e(c)}catch{}return!0}(e)||function(e){if(!window.Shopify)return!1;const t=window.Shopify?.currency?.active||"EUR";if(document.addEventListener("submit",n=>{const o=n.target;if(!o||"FORM"!==o.tagName)return;if(!(o.action||"").toLowerCase().includes("/cart/add"))return;const r=window.__SHOPIFY_PRODUCT_JSON||window.ShopifyAnalytics?.meta?.product,a=r?.title||document.querySelector(".product__title, h1.product-title, [data-product-title]")?.textContent?.trim()||"",i=r?.price?r.price/100:parseFloat(document.querySelector(".product__price, [data-product-price]")?.textContent?.replace(/[^\d.,]/g,"").replace(",",".")||"0")||0,c=parseInt(o.querySelector('[name="quantity"]')?.value||"1",10)||1,s=o.querySelector('[name="id"]')?.value||"",l=T("add_to_cart",{currency:t,items:[{id:s,name:a,price:i,quantity:c}]});e(l)},!0),window.Shopify?.checkout){const n=window.Shopify.checkout;if(n.order_id){const o=(n.line_items||[]).map(e=>({id:String(e.variant_id||e.product_id||""),name:e.title||"",price:parseFloat(e.price)||0,quantity:e.quantity||1})),r=T("purchase",{order_id:String(n.order_id),total:parseFloat(n.total_price)||0,revenue:parseFloat(n.subtotal_price)||0,currency:t,items:o});e(r),n.order_id}}}(e)}const q="__trk_consent";let M=function(){try{const e=localStorage.getItem(q);if("0"===e)return!1;if("1"===e)return!0}catch{}return null}()??!0;function I(){return M}let O={};function F(){return{...O}}const N="__trk_vid";let D=null;function U(){if(!I())return null;if(D)return D;try{const t=localStorage.getItem(N);if(t)return D=t,t;const n=e();return localStorage.setItem(N,n),D=n,n}catch{return null}}!function(){const e=function(){const e="undefined"==typeof document?null:document.currentScript??document.querySelector("script[data-site-id]");if(!e)return null;const t=e.getAttribute("data-site-id");if(!t)return null;const n=e.getAttribute("src")||"";let o="/api/collect";try{n&&(o=`${new URL(n,window.location.href).origin}/api/collect`)}catch{}return{siteId:t,apiUrl:e.getAttribute("data-api")||o,debug:"true"===e.getAttribute("data-debug"),respectDNT:"true"===e.getAttribute("data-respect-dnt"),trackForms:"false"!==e.getAttribute("data-track-forms"),captureLeads:"false"!==e.getAttribute("data-capture-leads"),trackOutbound:"false"!==e.getAttribute("data-track-outbound"),trackDownloads:"false"!==e.getAttribute("data-track-downloads"),trackErrors:"false"!==e.getAttribute("data-track-errors"),trackRageClicks:"false"!==e.getAttribute("data-track-rage-clicks")}}();if(!e)return;let t=e.debug;if(n(t),e.respectDNT&&function(){if("undefined"==typeof navigator)return!1;const e=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,t=navigator.globalPrivacyControl;return"1"===e||"yes"===e||!0===t}())return;if(function(){if("undefined"==typeof navigator)return!0;const e=navigator.userAgent;return/bot|crawl|spider|slurp|facebookexternalhit|baiduspider|yandex|duckduck|googlebot|bingbot|linkedinbot|mediapartners|adsbot|curl|wget|python|java|node-fetch|axios|undici|headlesschrome|phantomjs|lighthouse|pagespeed|gtmetrix|pingdom|uptimerobot/i.test(e)}())return;function o(){const t=function(e){try{const t=new URL(e||window.location.href).searchParams,n={utm_source:t.get("utm_source"),utm_medium:t.get("utm_medium"),utm_campaign:t.get("utm_campaign"),utm_term:t.get("utm_term"),utm_content:t.get("utm_content")};return c.some(e=>n[e])?(function(e){try{sessionStorage.setItem(i,JSON.stringify(e))}catch{}}(n),n):function(){try{const e=sessionStorage.getItem(i);return e?JSON.parse(e):null}catch{return null}}()||n}catch{return{utm_source:null,utm_medium:null,utm_campaign:null,utm_term:null,utm_content:null}}}(),n=window.location;let o=document.referrer||null,r=null;try{if(o){const e=new URL(o).hostname;e===n.hostname?(o=null,r=null):r=e}}catch{}return{site_id:e.siteId,url:n.href,path:n.pathname,hostname:n.hostname,page_title:document.title,referrer:o,referrer_hostname:r,...t,session_id:a(),visitor_id:U(),custom_props:F(),screen_width:window.screen?.width||null,screen_height:window.screen?.height||null,viewport_width:window.innerWidth||null,viewport_height:window.innerHeight||null,language:navigator.language||null,timezone:Intl?.DateTimeFormat?.().resolvedOptions?.()?.timeZone||null,connection_type:navigator.connection?.effectiveType||null}}function b(t){if(!I())return;!function(){try{sessionStorage.setItem(r,Date.now().toString())}catch{}}();const n={...o(),...t};!function(e,t){const n=JSON.stringify(t);t.event_type;try{fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:n,keepalive:!0}).catch(()=>{})}catch{if("undefined"!=typeof navigator&&navigator.sendBeacon){const t=new Blob([n],{type:"application/json"});navigator.sendBeacon(e,t)}}}(e.apiUrl,n)}function v(t){if(!I())return;const n={...o(),...t};!function(e,t){const n=JSON.stringify(t);t.event_type;try{navigator.sendBeacon&&navigator.sendBeacon(e,new Blob([n],{type:"application/json"}))}catch{}}(e.apiUrl,n)}a(),b({event_type:"pageview"}),function(){const e=(document.title||"").toLowerCase(),t=document.querySelector('meta[name="status-code"]')?.getAttribute("content");document.body?.innerText?.slice(0,500).toLowerCase(),("404"===t||/\b404\b/.test(e)||/page not found|not found|pagina niet gevonden/.test(e)||null!==document.querySelector("[data-404]"))&&b({event_type:"custom",event_name:"404",event_data:{path:window.location.pathname,referrer:document.referrer||null,title:document.title}})}(),function(){if("undefined"!=typeof PerformanceObserver){try{const e=performance.getEntriesByType("navigation")[0];e&&(s.ttfb_ms=Math.round(e.responseStart-e.requestStart))}catch{}try{const e=new PerformanceObserver(t=>{for(const n of t.getEntries())"first-contentful-paint"===n.name&&(s.fcp_ms=Math.round(n.startTime),e.disconnect())});e.observe({type:"paint",buffered:!0})}catch{}try{new PerformanceObserver(e=>{const t=e.getEntries(),n=t[t.length-1];n&&(s.lcp_ms=Math.round(n.startTime))}).observe({type:"largest-contentful-paint",buffered:!0})}catch{}try{new PerformanceObserver(e=>{for(const t of e.getEntries())t.hadRecentInput||(l+=t.value,s.cls=Math.round(1e3*l)/1e3)}).observe({type:"layout-shift",buffered:!0})}catch{}try{new PerformanceObserver(e=>{for(const t of e.getEntries()){const e=t.duration??t.startTime;(null===s.inp_ms||e>s.inp_ms)&&(s.inp_ms=Math.round(e))}}).observe({type:"event",buffered:!0})}catch{}try{const e=new PerformanceObserver(t=>{for(const n of t.getEntries())s.fid_ms=Math.round(n.processingStart-n.startTime),e.disconnect()});e.observe({type:"first-input",buffered:!0})}catch{}}}(),function(){const e=()=>{const e=window.scrollY||document.documentElement.scrollTop,t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight),n=window.innerHeight;if(t<=n)return void(u=100);const o=Math.min(100,Math.round(e/(t-n)*100));o>u&&(u=o)};window.addEventListener("scroll",e,{passive:!0}),e()}(),p=Date.now(),_=!0,document.addEventListener("visibilitychange",()=>{document.hidden?(_&&p>0&&(f+=Date.now()-p),_=!1):(_=!0,p=Date.now())});let S=window.location.href;var L,A;!function(e){const t=history.pushState;history.pushState=function(...n){t.apply(this,n),e(window.location.href)};const n=history.replaceState;history.replaceState=function(...t){n.apply(this,t),e(window.location.href)},window.addEventListener("popstate",()=>{e(window.location.href)}),window.addEventListener("hashchange",()=>{e(window.location.href)})}(e=>{if(e===S)return;const t=new URL(S).pathname,n=d();v({event_type:"pageleave",path:t,scroll_depth_pct:m(),engaged_time_ms:h(),time_on_page_ms:h(),...n}),u=0,f=0,p=Date.now(),_=!document.hidden,S=e,b({event_type:"pageview"})}),e.trackOutbound&&(L=window.location.hostname,A=b,document.addEventListener("click",e=>{const t=e.target.closest("a");if(!t)return;const n=t.getAttribute("href");if(n)try{const e=new URL(n,window.location.href);e.hostname&&e.hostname!==L&&e.protocol.startsWith("http")&&A({event_type:"outbound_click",event_name:"outbound_click",event_data:{url:e.href,hostname:e.hostname,text:(t.textContent||"").trim().slice(0,200)}})}catch{}},{capture:!0})),e.trackDownloads&&function(e){document.addEventListener("click",t=>{const n=t.target.closest("a");if(!n)return;const o=n.getAttribute("href");if(o&&g.test(o))try{const t=new URL(o,window.location.href),n=t.pathname.split("/").pop()||o,r=n.split(".").pop()?.toLowerCase()||"";e({event_type:"file_download",event_name:"file_download",event_data:{url:t.href,filename:n,extension:r}})}catch{}},{capture:!0})}(b),e.trackForms&&function(e,t=!1){const n=new WeakMap;function o(e){return e.id||e.getAttribute("name")||`form-${Array.from(document.forms).indexOf(e)}`}function r(e,t){return e.getAttribute(t)||""}function a(e){const t=(e.getAttribute("id")||"").toLowerCase(),n=(e.getAttribute("class")||"").toLowerCase(),o=(e.getAttribute("action")||"").toLowerCase(),r=(e.getAttribute("name")||"").toLowerCase();return!!(e.querySelector('button[name="add-to-cart"], input[name="add-to-cart"]')||"checkout"===t||n.includes("woocommerce-checkout")||n.includes("woocommerce")&&n.includes("cart")||e.querySelector('[name="update_cart"]')||e.querySelector('[name="coupon_code"]')||o.includes("/cart/add")||o.includes("/cart")||e.querySelector('[name="add"], button[data-action="add-to-cart"]')&&e.querySelector('[name="quantity"], [name="id"], [name="variant_id"]')||n.includes("shopify-payment")||"shopify-checkout"===t||o.includes("/checkout")||o.includes("/cart")||o.includes("/basket")||"payment-form"===t||n.includes("payment-form")||"checkout"===r||"payment"===r||e.querySelector('[name*="card_number"], [name*="cc_number"], [name*="payment_method"], [autocomplete="cc-number"]')||e.getAttribute("data-product_id")||e.getAttribute("data-product-id")||"product_addtocart_form"===t||"co-payment-form"===t||n.includes("add-to-cart-or-refresh"))}function i(e){const n=e.getAttribute("data-capture-leads");return"true"===n||"false"!==n&&t}function c(e){return!!e.hasAttribute("data-no-track")||!!(e instanceof HTMLInputElement&&y.has(e.type))||!!w.test(e.name||"")}function s(e,t,n){const o=[],r=e.elements;for(let e=0;e<r.length;e++){const a=r[e];if(c(a))continue;if(!a.name&&!a.id)continue;if("submit"===a.type||"button"===a.type)continue;const i=a.name||a.id,s={name:i,type:a.type||"text",filled:!!a.value,time_ms:t.fieldTimes.get(i)||0,had_error:!a.validity?.valid};n&&a.value&&(s.value=a.value.slice(0,500)),o.push(s)}return o}function l(e){return n.has(e)||n.set(e,{started:!1,startTime:0,fieldTimes:new Map,fieldFocusStart:new Map,lastField:""}),n.get(e)}function d(t){if(a(t))return;const d=o(t);t.addEventListener("focusin",e=>{const n=e.target;if(!("name"in n))return;const o=n;if(c(o))return;const r=l(t);r.started||(r.started=!0,r.startTime=Date.now());const a=o.name||o.id;r.fieldFocusStart.set(a,Date.now()),r.lastField=a}),t.addEventListener("focusout",e=>{const n=e.target;if(!("name"in n))return;const o=n;if(c(o))return;const r=l(t),a=o.name||o.id,i=r.fieldFocusStart.get(a);if(i){const e=r.fieldTimes.get(a)||0;r.fieldTimes.set(a,e+(Date.now()-i)),r.fieldFocusStart.delete(a)}}),t.addEventListener("submit",()=>{if(t.__trackSubmitHandled)return void(t.__trackSubmitHandled=!1);const o=l(t),a=i(t),c=s(t,o,a),u={event_type:"form_submit",event_name:"form_submit",form_id:d,form_action:r(t,"action")||null,form_fields:c,form_last_field:o.lastField||null,form_time_to_submit_ms:o.startTime?Date.now()-o.startTime:null};if(a){const e=k(t);u.lead_name=e.lead_name,u.lead_email=e.lead_email,u.lead_phone=e.lead_phone,u.lead_company=e.lead_company,u.lead_message=e.lead_message,u.lead_data=e.lead_data}e(u),n.delete(t)})}const u=new WeakMap;document.addEventListener("submit",t=>{const c=t.target;if(!c||"FORM"!==c.tagName)return;if(a(c))return;u.has(c)&&(clearTimeout(u.get(c)),u.delete(c)),n.has(c)||d(c);const m=l(c),f=i(c),p=s(c,m,f),_={event_type:"form_submit",event_name:"form_submit",form_id:o(c),form_action:r(c,"action")||null,form_fields:p,form_last_field:m.lastField||null,form_time_to_submit_ms:m.startTime?Date.now()-m.startTime:null};if(f){const e=k(c);_.lead_name=e.lead_name,_.lead_email=e.lead_email,_.lead_phone=e.lead_phone,_.lead_company=e.lead_company,_.lead_message=e.lead_message,_.lead_data=e.lead_data}c.__trackSubmitHandled=!0,e(_),n.delete(c)},!0);const m=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!a(this)){n.has(this)||d(this);const t=l(this),a=i(this),c=s(this,t,a),u={event_type:"form_submit",event_name:"form_submit",form_id:o(this),form_action:r(this,"action")||null,form_fields:c,form_last_field:t.lastField||null,form_time_to_submit_ms:t.startTime?Date.now()-t.startTime:null};if(a){const e=k(this);u.lead_name=e.lead_name,u.lead_email=e.lead_email,u.lead_phone=e.lead_phone,u.lead_company=e.lead_company,u.lead_message=e.lead_message,u.lead_data=e.lead_data}e(u),n.delete(this)}return m.call(this)},document.addEventListener("click",t=>{const c=t.target;if(!c)return;const m=c.closest('button[type="submit"], input[type="submit"], button:not([type])');if(!m)return;const f=m.closest("form");if(!f)return;if(a(f))return;if(u.has(f))return;n.has(f)||d(f);const p=l(f),_=i(f),h=s(f,p,_),g=o(f),y=_?k(f):null,w=setTimeout(()=>{if(u.delete(f),f.__trackClickHandled)return void(f.__trackClickHandled=!1);const t={event_type:"form_submit",event_name:"form_submit",form_id:g,form_action:r(f,"action")||null,form_fields:h,form_last_field:p.lastField||null,form_time_to_submit_ms:p.startTime?Date.now()-p.startTime:null};y&&(t.lead_name=y.lead_name,t.lead_email=y.lead_email,t.lead_phone=y.lead_phone,t.lead_company=y.lead_company,t.lead_message=y.lead_message,t.lead_data=y.lead_data),e(t),n.delete(f)},200);u.set(f,w)},!0),document.querySelectorAll("form").forEach(e=>d(e)),"undefined"!=typeof MutationObserver&&new MutationObserver(e=>{for(const t of e)for(const e of t.addedNodes)e instanceof HTMLFormElement&&d(e),e instanceof HTMLElement&&e.querySelectorAll("form").forEach(e=>d(e))}).observe(document.body,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",()=>{document.querySelectorAll("form").forEach(t=>{const i=t;if(a(i))return;const c=n.get(i);if(c?.started){const t=s(i,c,!1);t.some(e=>e.filled)&&e({event_type:"form_abandon",event_name:"form_abandon",form_id:o(i),form_action:r(i,"action")||null,form_fields:t,form_last_field:c.lastField||null,form_time_to_submit_ms:c.startTime?Date.now()-c.startTime:null})}})})}(b,e.captureLeads),function(e){if("undefined"==typeof IntersectionObserver)return;const t=new Set,n=new IntersectionObserver(o=>{for(const r of o)if(r.isIntersecting&&!t.has(r.target)){t.add(r.target);const o=r.target.getAttribute("data-track-visibility")||"";e({event_type:"element_visible",event_name:"element_visible",event_data:{section:o,element_id:r.target.id||null,element_tag:r.target.tagName.toLowerCase()}}),n.unobserve(r.target)}},{threshold:.5});function o(){document.querySelectorAll("[data-track-visibility]").forEach(e=>{t.has(e)||n.observe(e)})}o(),"undefined"!=typeof MutationObserver&&new MutationObserver(()=>o()).observe(document.body,{childList:!0,subtree:!0})}(b),e.trackRageClicks&&function(e){const t=[];let n=0;document.addEventListener("click",o=>{const r=Date.now();for(t.push({x:o.clientX,y:o.clientY,ts:r});t.length>0&&r-t[0].ts>1e3;)t.shift();if(t.length>=3){const a=t[0];if(t.every(e=>Math.abs(e.x-a.x)<30&&Math.abs(e.y-a.y)<30)&&r-n>1e3){n=r;const a=o.target;e({event_type:"rage_click",event_name:"rage_click",event_data:{x:o.clientX,y:o.clientY,element_tag:a.tagName?.toLowerCase(),element_id:a.id||null,element_class:a.className?.toString().slice(0,100)||null,element_text:(a.textContent||"").trim().slice(0,100)||null,click_count:t.length}})}}})}(b),function(e){document.addEventListener("click",t=>{const n=t.target;if(!n)return;if(x.has(n.tagName))return;if(n.closest('a, button, input, select, textarea, [role="button"], [onclick]'))return;if("button"===n.getAttribute("role"))return;if(n.hasAttribute("onclick")||n.hasAttribute("tabindex"))return;if("pointer"===getComputedStyle(n).cursor)return;const o=window.location.href;let r=!1;const a=new MutationObserver(()=>{r=!0});a.observe(document.body,{childList:!0,subtree:!0,attributes:!0}),setTimeout(()=>{a.disconnect(),r||window.location.href!==o||e({event_type:"dead_click",event_name:"dead_click",event_data:{x:t.clientX,y:t.clientY,element_tag:n.tagName?.toLowerCase(),element_id:n.id||null,element_class:n.className?.toString().slice(0,100)||null,element_text:(n.textContent||"").trim().slice(0,100)||null}})},1e3)})}(b),function(e){document.addEventListener("copy",t=>{const n=window.getSelection(),o=n?.toString()||"",r=n?.anchorNode,a=r instanceof HTMLElement?r:r?.parentElement;e({event_type:"copy",event_name:"copy",event_data:{text_length:o.length,source_tag:a?.tagName?.toLowerCase()||null,source_id:a?.id||null}})})}(b),function(e){if(void 0===window.matchMedia)return;let t=!1;window.matchMedia("print").addEventListener("change",n=>{n.matches&&!t&&(t=!0,e({event_type:"print",event_name:"print",event_data:{url:window.location.href,title:document.title}}),setTimeout(()=>{t=!1},2e3))}),window.addEventListener("beforeprint",()=>{t||(t=!0,e({event_type:"print",event_name:"print",event_data:{url:window.location.href,title:document.title}}),setTimeout(()=>{t=!1},2e3))})}(b),e.trackErrors&&function(e){const t=window.location.origin;window.addEventListener("error",n=>{if(n.filename&&!n.filename.startsWith(t))return;const o=n.message||"Unknown error";E(o)||e({event_type:"error",event_name:"js_error",error_message:o,error_stack:n.error?.stack?.slice(0,2e3)||null,error_source:n.filename||null,error_line:n.lineno||null,error_col:n.colno||null})}),window.addEventListener("unhandledrejection",t=>{const n=t.reason;let o="Unhandled Promise Rejection",r=null;n instanceof Error?(o=n.message||o,r=n.stack?.slice(0,2e3)||null):"string"==typeof n&&(o=n),E(o)||e({event_type:"error",event_name:"unhandled_rejection",error_message:o,error_stack:r,error_source:null,error_line:null,error_col:null})})}(b),C(b,t),window.addEventListener("beforeunload",()=>{const e=d();v({event_type:"pageleave",scroll_depth_pct:m(),engaged_time_ms:h(),time_on_page_ms:h(),...e})}),window.tracking={event(e,t){b({event_type:"custom",event_name:e,event_data:t||{}})},set(e){!function(e){O={...O,...e}}(e),F()},ecommerce(e,t){b(T(e,t))},lead(e){b({event_type:"form_submit",event_name:"form_submit",form_id:e.form_id||"manual",lead_name:e.name||null,lead_email:e.email||null,lead_phone:e.phone||null,lead_company:e.company||null,lead_message:e.message||null,lead_data:e.data||null})},consent(e){!function(e){M=e;try{localStorage.setItem(q,e?"1":"0")}catch{}}(e),e||function(){D=null;try{localStorage.removeItem(N)}catch{}}()},debug(e){t=e,n(e)}}}()}();
