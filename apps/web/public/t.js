!function(){"use strict";function e(){return"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}let t=!1;function n(e){t=e}const o="_tk_sid",r="_tk_ts";function i(){try{const t=sessionStorage.getItem(o),n=sessionStorage.getItem(r),i=Date.now();if(t&&n&&i-parseInt(n,10)<18e5)return sessionStorage.setItem(r,i.toString()),t;const a=e();return sessionStorage.setItem(o,a),sessionStorage.setItem(r,i.toString()),a}catch{return e()}}const a={ttfb_ms:null,fcp_ms:null,lcp_ms:null,cls:null,inp_ms:null,fid_ms:null};let c=0;function s(){return{...a}}let l=0;function u(){return l}let d=0,m=0,f=!0;function p(){return f&&m>0?d+(Date.now()-m):d}const _=/\.(pdf|zip|docx|xlsx|csv|mp4|mp3|rar|gz|tar|7z|exe|dmg|iso|avi|mov|wmv|flv|webm|ogg|wav|pptx)$/i,g=new Set(["password","hidden"]),h=/credit_card|card_number|cvv|ssn|password|secret|cc_number|card_exp|security_code/i,v=new Set(["A","BUTTON","INPUT","SELECT","TEXTAREA","LABEL","DETAILS","SUMMARY"]),w="__trk_consent";let y=function(){try{const e=localStorage.getItem(w);if("0"===e)return!1;if("1"===e)return!0}catch{}return null}()??!0;function b(){return y}let x={};function k(){return{...x}}!function(){const e=function(){const e="undefined"==typeof document?null:document.currentScript??document.querySelector("script[data-site-id]");if(!e)return null;const t=e.getAttribute("data-site-id");if(!t)return null;const n=e.getAttribute("src")||"";let o="/api/collect";try{n&&(o=`${new URL(n,window.location.href).origin}/api/collect`)}catch{}return{siteId:t,apiUrl:e.getAttribute("data-api")||o,debug:"true"===e.getAttribute("data-debug"),respectDNT:"true"===e.getAttribute("data-respect-dnt"),trackForms:"false"!==e.getAttribute("data-track-forms"),trackOutbound:"false"!==e.getAttribute("data-track-outbound"),trackDownloads:"false"!==e.getAttribute("data-track-downloads"),trackErrors:"false"!==e.getAttribute("data-track-errors"),trackRageClicks:"false"!==e.getAttribute("data-track-rage-clicks")}}();if(!e)return;let t=e.debug;if(n(t),e.respectDNT&&function(){if("undefined"==typeof navigator)return!1;const e=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,t=navigator.globalPrivacyControl;return"1"===e||"yes"===e||!0===t}())return;if(function(){if("undefined"==typeof navigator)return!0;const e=navigator.userAgent;return/bot|crawl|spider|slurp|facebookexternalhit|baiduspider|yandex|duckduck|googlebot|bingbot|linkedinbot|mediapartners|adsbot|curl|wget|python|java|node-fetch|axios|undici|headlesschrome|phantomjs|lighthouse|pagespeed|gtmetrix|pingdom|uptimerobot/i.test(e)}())return;function o(){const t=function(){try{const e=new URL(window.location.href).searchParams;return{utm_source:e.get("utm_source"),utm_medium:e.get("utm_medium"),utm_campaign:e.get("utm_campaign"),utm_term:e.get("utm_term"),utm_content:e.get("utm_content")}}catch{return{utm_source:null,utm_medium:null,utm_campaign:null,utm_term:null,utm_content:null}}}(),n=window.location;let o=null;try{document.referrer&&(o=new URL(document.referrer).hostname)}catch{}return{site_id:e.siteId,url:n.href,path:n.pathname,hostname:n.hostname,page_title:document.title,referrer:document.referrer||null,referrer_hostname:o,...t,session_id:i(),custom_props:k(),screen_width:window.screen?.width||null,screen_height:window.screen?.height||null,viewport_width:window.innerWidth||null,viewport_height:window.innerHeight||null,language:navigator.language||null,timezone:Intl?.DateTimeFormat?.().resolvedOptions?.()?.timeZone||null,connection_type:navigator.connection?.effectiveType||null}}function E(t){if(!b())return;!function(){try{sessionStorage.setItem(r,Date.now().toString())}catch{}}();const n={...o(),...t};!function(e,t){const n=JSON.stringify(t);t.event_type;try{fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:n,keepalive:!0}).catch(()=>{})}catch{if("undefined"!=typeof navigator&&navigator.sendBeacon){const t=new Blob([n],{type:"application/json"});navigator.sendBeacon(e,t)}}}(e.apiUrl,n)}function S(t){if(!b())return;const n={...o(),...t};!function(e,t){const n=JSON.stringify(t);t.event_type;try{navigator.sendBeacon&&navigator.sendBeacon(e,new Blob([n],{type:"application/json"}))}catch{}}(e.apiUrl,n)}i(),E({event_type:"pageview"}),function(){const e=(document.title||"").toLowerCase(),t=document.querySelector('meta[name="status-code"]')?.getAttribute("content");document.body?.innerText?.slice(0,500).toLowerCase(),("404"===t||/\b404\b/.test(e)||/page not found|not found|pagina niet gevonden/.test(e)||null!==document.querySelector("[data-404]"))&&E({event_type:"custom",event_name:"404",event_data:{path:window.location.pathname,referrer:document.referrer||null,title:document.title}})}(),function(){if("undefined"!=typeof PerformanceObserver){try{const e=performance.getEntriesByType("navigation")[0];e&&(a.ttfb_ms=Math.round(e.responseStart-e.requestStart))}catch{}try{const e=new PerformanceObserver(t=>{for(const n of t.getEntries())"first-contentful-paint"===n.name&&(a.fcp_ms=Math.round(n.startTime),e.disconnect())});e.observe({type:"paint",buffered:!0})}catch{}try{new PerformanceObserver(e=>{const t=e.getEntries(),n=t[t.length-1];n&&(a.lcp_ms=Math.round(n.startTime))}).observe({type:"largest-contentful-paint",buffered:!0})}catch{}try{new PerformanceObserver(e=>{for(const t of e.getEntries())t.hadRecentInput||(c+=t.value,a.cls=Math.round(1e3*c)/1e3)}).observe({type:"layout-shift",buffered:!0})}catch{}try{new PerformanceObserver(e=>{for(const t of e.getEntries()){const e=t.duration??t.startTime;(null===a.inp_ms||e>a.inp_ms)&&(a.inp_ms=Math.round(e))}}).observe({type:"event",buffered:!0})}catch{}try{const e=new PerformanceObserver(t=>{for(const n of t.getEntries())a.fid_ms=Math.round(n.processingStart-n.startTime),e.disconnect()});e.observe({type:"first-input",buffered:!0})}catch{}}}(),function(){const e=()=>{const e=window.scrollY||document.documentElement.scrollTop,t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight),n=window.innerHeight;if(t<=n)return void(l=100);const o=Math.min(100,Math.round(e/(t-n)*100));o>l&&(l=o)};window.addEventListener("scroll",e,{passive:!0}),e()}(),m=Date.now(),f=!0,document.addEventListener("visibilitychange",()=>{document.hidden?(f&&m>0&&(d+=Date.now()-m),f=!1):(f=!0,m=Date.now())});let L=window.location.href;var T,A;!function(e){const t=history.pushState;history.pushState=function(...n){t.apply(this,n),e(window.location.href)};const n=history.replaceState;history.replaceState=function(...t){n.apply(this,t),e(window.location.href)},window.addEventListener("popstate",()=>{e(window.location.href)}),window.addEventListener("hashchange",()=>{e(window.location.href)})}(e=>{if(e===L)return;const t=new URL(L).pathname,n=s();S({event_type:"pageview",path:t,scroll_depth_pct:u(),engaged_time_ms:p(),...n}),l=0,d=0,m=Date.now(),f=!document.hidden,L=e,E({event_type:"pageview"})}),e.trackOutbound&&(T=window.location.hostname,A=E,document.addEventListener("click",e=>{const t=e.target.closest("a");if(!t)return;const n=t.getAttribute("href");if(n)try{const e=new URL(n,window.location.href);e.hostname&&e.hostname!==T&&e.protocol.startsWith("http")&&A({event_type:"outbound_click",event_name:"outbound_click",event_data:{url:e.href,hostname:e.hostname,text:(t.textContent||"").trim().slice(0,200)}})}catch{}},{capture:!0})),e.trackDownloads&&function(e){document.addEventListener("click",t=>{const n=t.target.closest("a");if(!n)return;const o=n.getAttribute("href");if(o&&_.test(o))try{const t=new URL(o,window.location.href),n=t.pathname.split("/").pop()||o,r=n.split(".").pop()?.toLowerCase()||"";e({event_type:"file_download",event_name:"file_download",event_data:{url:t.href,filename:n,extension:r}})}catch{}},{capture:!0})}(E),e.trackForms&&function(e){const t=new WeakMap;function n(e){return e.id||e.getAttribute("name")||`form-${Array.from(document.forms).indexOf(e)}`}function o(e){return!!e.hasAttribute("data-no-track")||!!(e instanceof HTMLInputElement&&g.has(e.type))||!!h.test(e.name||"")}function r(e,t){const n=[],r=e.elements;for(let e=0;e<r.length;e++){const i=r[e];if(o(i))continue;if(!i.name&&!i.id)continue;if("submit"===i.type||"button"===i.type)continue;const a=i.name||i.id;n.push({name:a,type:i.type||"text",filled:!!i.value,time_ms:t.fieldTimes.get(a)||0,had_error:!i.validity?.valid})}return n}function i(e){return t.has(e)||t.set(e,{started:!1,startTime:0,fieldTimes:new Map,fieldFocusStart:new Map,lastField:""}),t.get(e)}function a(a){const c=n(a);a.addEventListener("focusin",e=>{const t=e.target;if(!("name"in t))return;const n=t;if(o(n))return;const r=i(a);r.started||(r.started=!0,r.startTime=Date.now());const c=n.name||n.id;r.fieldFocusStart.set(c,Date.now()),r.lastField=c}),a.addEventListener("focusout",e=>{const t=e.target;if(!("name"in t))return;const n=t;if(o(n))return;const r=i(a),c=n.name||n.id,s=r.fieldFocusStart.get(c);if(s){const e=r.fieldTimes.get(c)||0;r.fieldTimes.set(c,e+(Date.now()-s)),r.fieldFocusStart.delete(c)}}),a.addEventListener("submit",()=>{const n=i(a),o=r(a,n);e({event_type:"form_submit",event_name:"form_submit",form_id:c,form_action:a.action||null,form_fields:o,form_last_field:n.lastField||null,form_time_to_submit_ms:n.startTime?Date.now()-n.startTime:null}),t.delete(a)})}document.querySelectorAll("form").forEach(e=>a(e)),"undefined"!=typeof MutationObserver&&new MutationObserver(e=>{for(const t of e)for(const e of t.addedNodes)e instanceof HTMLFormElement&&a(e),e instanceof HTMLElement&&e.querySelectorAll("form").forEach(e=>a(e))}).observe(document.body,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",()=>{document.querySelectorAll("form").forEach(o=>{const i=o,a=t.get(i);if(a?.started){const t=r(i,a);t.some(e=>e.filled)&&e({event_type:"form_abandon",event_name:"form_abandon",form_id:n(i),form_action:i.action||null,form_fields:t,form_last_field:a.lastField||null,form_time_to_submit_ms:a.startTime?Date.now()-a.startTime:null})}})})}(E),function(e){if("undefined"==typeof IntersectionObserver)return;const t=new Set,n=new IntersectionObserver(o=>{for(const r of o)if(r.isIntersecting&&!t.has(r.target)){t.add(r.target);const o=r.target.getAttribute("data-track-visibility")||"";e({event_type:"element_visible",event_name:"element_visible",event_data:{section:o,element_id:r.target.id||null,element_tag:r.target.tagName.toLowerCase()}}),n.unobserve(r.target)}},{threshold:.5});function o(){document.querySelectorAll("[data-track-visibility]").forEach(e=>{t.has(e)||n.observe(e)})}o(),"undefined"!=typeof MutationObserver&&new MutationObserver(()=>o()).observe(document.body,{childList:!0,subtree:!0})}(E),e.trackRageClicks&&function(e){const t=[];let n=0;document.addEventListener("click",o=>{const r=Date.now();for(t.push({x:o.clientX,y:o.clientY,ts:r});t.length>0&&r-t[0].ts>1e3;)t.shift();if(t.length>=3){const i=t[0];if(t.every(e=>Math.abs(e.x-i.x)<30&&Math.abs(e.y-i.y)<30)&&r-n>1e3){n=r;const i=o.target;e({event_type:"rage_click",event_name:"rage_click",event_data:{x:o.clientX,y:o.clientY,element_tag:i.tagName?.toLowerCase(),element_id:i.id||null,element_class:i.className?.toString().slice(0,100)||null,element_text:(i.textContent||"").trim().slice(0,100)||null,click_count:t.length}})}}})}(E),function(e){document.addEventListener("click",t=>{const n=t.target;if(!n)return;if(v.has(n.tagName))return;if(n.closest('a, button, input, select, textarea, [role="button"], [onclick]'))return;if("button"===n.getAttribute("role"))return;if(n.hasAttribute("onclick")||n.hasAttribute("tabindex"))return;if("pointer"===getComputedStyle(n).cursor)return;const o=window.location.href;let r=!1;const i=new MutationObserver(()=>{r=!0});i.observe(document.body,{childList:!0,subtree:!0,attributes:!0}),setTimeout(()=>{i.disconnect(),r||window.location.href!==o||e({event_type:"dead_click",event_name:"dead_click",event_data:{x:t.clientX,y:t.clientY,element_tag:n.tagName?.toLowerCase(),element_id:n.id||null,element_class:n.className?.toString().slice(0,100)||null,element_text:(n.textContent||"").trim().slice(0,100)||null}})},1e3)})}(E),function(e){document.addEventListener("copy",t=>{const n=window.getSelection(),o=n?.toString()||"",r=n?.anchorNode,i=r instanceof HTMLElement?r:r?.parentElement;e({event_type:"copy",event_name:"copy",event_data:{text_length:o.length,source_tag:i?.tagName?.toLowerCase()||null,source_id:i?.id||null}})})}(E),function(e){if(void 0===window.matchMedia)return;let t=!1;window.matchMedia("print").addEventListener("change",n=>{n.matches&&!t&&(t=!0,e({event_type:"print",event_name:"print",event_data:{url:window.location.href,title:document.title}}),setTimeout(()=>{t=!1},2e3))}),window.addEventListener("beforeprint",()=>{t||(t=!0,e({event_type:"print",event_name:"print",event_data:{url:window.location.href,title:document.title}}),setTimeout(()=>{t=!1},2e3))})}(E),e.trackErrors&&function(e){const t=window.location.origin;window.addEventListener("error",n=>{n.filename&&!n.filename.startsWith(t)||e({event_type:"error",event_name:"js_error",error_message:n.message||"Unknown error",error_stack:n.error?.stack?.slice(0,2e3)||null,error_source:n.filename||null,error_line:n.lineno||null,error_col:n.colno||null})}),window.addEventListener("unhandledrejection",t=>{const n=t.reason;let o="Unhandled Promise Rejection",r=null;n instanceof Error?(o=n.message||o,r=n.stack?.slice(0,2e3)||null):"string"==typeof n&&(o=n),e({event_type:"error",event_name:"unhandled_rejection",error_message:o,error_stack:r,error_source:null,error_line:null,error_col:null})})}(E),window.addEventListener("beforeunload",()=>{const e=s();S({event_type:"pageview",scroll_depth_pct:u(),engaged_time_ms:p(),time_on_page_ms:p(),...e})}),window.tracking={event(e,t){E({event_type:"custom",event_name:e,event_data:t||{}})},set(e){!function(e){x={...x,...e}}(e),k()},ecommerce(e,t){const n=function(e,t){return{event_type:"ecommerce",event_name:e,ecommerce_action:e,order_id:t.order_id||null,revenue:t.total??t.revenue??null,currency:t.currency||"EUR",ecommerce_items:t.items||null,event_data:t}}(e,t);E(n)},consent(e){!function(e){y=e;try{localStorage.setItem(w,e?"1":"0")}catch{}}(e)},debug(e){t=e,n(e)}}}()}();
